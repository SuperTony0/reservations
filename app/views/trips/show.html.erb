<p id="notice"><%= notice %></p>

<p>
  <strong>Destination:</strong>
  <%= @trip.destination %>
</p>

<p>
  <strong>Date:</strong>
  <%= @trip.date %>
</p>
  


  <!-- shows the current rooms booked on the trip only if a room exists -->
  <%if @rooms.any? {|room| room.trip_id == @trip.id }%>
    <p>
      <strong> Rooms:</strong> <%= @trip.rooms.count %>
      
          <table>
            <col width="110">
            <col width="110">

          <thead>
            <tr>
              <th>Capacity</th>
              <th>Description</th>
              <th>Location</th>
              <th>Number</th>
              <th>Price</th>
              <th colspan="5"></th>
            </tr>
          </thead>

          <tbody>
            <% @rooms.each do |room| %>
              <div class= "container" >
                <tr>
                  <% if room.trip_id == @trip.id %>
                    <td><%= room.capacity %></td>
                    <td><%= room.description %></td>
                    <td><%= room.location %></td>
                    <td><%= room.number %></td>
                    <td><%= room.price %></td>
                </tr>
                <tr>
                    <td><%= link_to 'Room Details', room %></td>
                    <td><%= link_to 'Remove Room', room, method: :delete, data: { confirm: 'Are you sure?' } %></td>
                  <%end%>
                </tr>
              </div>
            <% end %>
          </tbody>
        </table>
    </p>
  <%end%>

  <p> Travelers: </p>
  <% @trip.users.each do |user| %>
    <p><%= user.first_name %></p>
  <%end%>

<% if @trip.users.include? current_user %>
  <p> You are on this trip </p>
<% elsif user_signed_in? %>
  <%= link_to 'Join Trip', join_trip_path, method: :post %>
<% end %>
  
<%#end %> 
<%= link_to 'Add Room', new_trip_room_path(@trip)%>

<%= link_to 'Edit', edit_trip_path(@trip) %> 
<%= link_to 'Back', trips_path %>
